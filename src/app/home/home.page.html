<ion-header [translucent]="true">
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-menu-button auto-hide="false"></ion-menu-button>
        </ion-buttons>
        <ion-title>Messenger</ion-title>
        <ion-buttons slot="end">
            <ion-button>
                <ion-icon slot="icon-only" name="search"></ion-icon>
            </ion-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
    <ion-list>
        <ion-item-sliding *ngFor="let chat of chats">
            <ion-item detail="false" [routerLink]="['/chats', chat.id]">
                <ion-avatar slot="start">
                    <ion-img [src]="chat.imageUrl"></ion-img>
                </ion-avatar>
                <ion-label>
                    <h2>{{chat.name}}</h2>
                    <p>{{lastMessageSenderName(chat) + chat.lastMessageText}}</p>
                </ion-label>
                <div slot="end" class="lastSection ion-no-margin">
                    <ion-note>{{lastMessageDate(chat.lastMessageDate)}}</ion-note>
                    <ion-badge class="userBadge">{{chat.unreadMessages}}</ion-badge>
<!--                    <ion-note *ngIf="chat.badge || !chat.time" class="sendTime">{{chat.sendTime}}</ion-note>-->
<!--                    <ion-badge slot="end" class="userBadge" *ngIf="chat.badge">{{chat.badge}}</ion-badge>-->
<!--                    <ion-note slot="end" *ngIf="chat.time">{{chat.time}}</ion-note>-->
                </div>
<!--                <ion-note>{{lastMessageDate(chat.lastMessageDate)}}</ion-note>-->
<!--                <ion-badge slot="end">{{chat.unreadMessages}}</ion-badge>-->
            </ion-item>
            <ion-item-options side="end">
                <ion-item-option (click)="deleteChat(chat.id)" color="danger">
                    <ion-icon slot="icon-only" name="trash"></ion-icon>
                </ion-item-option>
            </ion-item-options>
        </ion-item-sliding>
    </ion-list>

    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button [routerLink]="['/contacts']">
            <ion-icon name="chatbox-ellipses"></ion-icon>
        </ion-fab-button>
    </ion-fab>
</ion-content>
